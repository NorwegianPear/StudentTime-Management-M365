# Student Time Management for M365 - Solution Architecture

> Complete technical documentation with architecture diagrams for the Student Login Time Restriction solution.

---

## Table of Contents

1. [Executive Summary](#executive-summary)
2. [Cost & Licensing](#cost--licensing)
3. [Implementation Timeline](#implementation-timeline)
4. [Solution Overview](#solution-overview)
5. [Architecture Diagrams](#architecture-diagrams)
6. [Component Details](#component-details)
7. [Data Flow](#data-flow)
8. [Security Architecture](#security-architecture)
9. [Deployment Architecture](#deployment-architecture)
10. [Alternative Solutions](#alternative-solutions)

---

## Executive Summary

This solution restricts student Microsoft 365 login times to school hours (07:55 AM - 04:05 PM, Monday-Friday) using Azure Automation and Microsoft Graph API in a cloud-only Entra ID environment. **Students remain disabled throughout weekends** (Saturday & Sunday).

### Key Facts

| Aspect | Details |
|--------|---------|
| **Problem** | Native time-based login restrictions not available in cloud-only Entra ID |
| **Solution** | Azure Automation scheduled runbooks |
| **Schedule** | Mon-Fri: 07:55 AM - 04:05 PM |
| **Weekends** | ðŸ”´ **Disabled all day Saturday & Sunday** |
| **Monthly Cost** | â‚¬0-6/month (Non-profit: typically FREE) |
| **Setup Time** | 2-4 hours (+ Azure subscription setup if needed) |
| **Affected Users** | Only members of student security group |
| **Not Affected** | Teachers, admins, staff (not in student group) |
| **Extra Licenses** | âŒ **None required** - Works with existing M365 Education |

---

## Cost & Licensing

### ðŸ’° Total Cost Overview

| Component | Regular Price | Non-Profit Price | Required? |
|-----------|---------------|------------------|-----------|
| **Azure Subscription** | Pay-as-you-go | **FREE** ($3,500/year credits) | âœ… Yes |
| **Azure Automation** | ~â‚¬5-8/month | **â‚¬0-3/month** | âœ… Yes |
| **Log Analytics (Basic)** | ~â‚¬2-3/month | **â‚¬0-1/month** | âœ… Yes |
| **M365 Education Licenses** | Already have | Already have | âœ… Already included |
| **Extra Entra ID Licenses** | - | - | âŒ **Not needed** |
| **Intune/Device Management** | - | - | âŒ **Not needed** |
| **GitHub Enterprise** | ~â‚¬19/user/month | ~â‚¬3.67/user/month | âšª Optional (IaC) |
| | | | |
| **TOTAL (Non-Profit)** | | **â‚¬0-4/month** | |

### ðŸ“‹ Azure Subscription Setup (Required)

Since you don't have an Azure subscription, here's how to get one:

#### Option A: Azure for Nonprofits (Recommended) ðŸŒŸ

| Step | Action | Time |
|------|--------|------|
| 1 | Go to [nonprofit.microsoft.com](https://nonprofit.microsoft.com) | - |
| 2 | Verify nonprofit status (need registration docs) | 1-5 days |
| 3 | Receive **$3,500 USD/year** in Azure credits | - |
| 4 | Create Azure subscription under nonprofit tenant | 10 min |

**Benefits:**
- First year essentially **FREE**
- Covers this solution + many other Azure services
- Renews annually with continued nonprofit status

#### Option B: Pay-As-You-Go (Immediate)

| Step | Action | Time |
|------|--------|------|
| 1 | Go to [portal.azure.com](https://portal.azure.com) | - |
| 2 | Sign in with your M365 admin account | - |
| 3 | Create new subscription (credit card required) | 10 min |
| 4 | Estimated monthly cost: **â‚¬7-11/month** | - |

#### Option C: Azure for Education (If Eligible)

Some educational institutions qualify for Azure for Education:
- **Azure Dev Tools for Teaching**: Free for students/faculty
- **Azure Lab Services**: For classroom environments

### ðŸ”‘ License Requirements

**Good news: NO additional licenses needed!**

| What You Have | What You Need | Status |
|---------------|---------------|--------|
| Office 365 A1/A3 for students | âœ… Included | âœ… OK |
| Office 365 A1/A3 for faculty | âœ… Included | âœ… OK |
| Entra ID (Azure AD) Free | âœ… Included with M365 | âœ… OK |
| Microsoft Graph API | âœ… Free | âœ… OK |
| Azure Automation | Consumption-based | âœ… Covered by credits |

**You do NOT need:**
- âŒ Entra ID Premium P1/P2
- âŒ Microsoft Intune
- âŒ Conditional Access (premium)
- âŒ Any per-user licenses

### ðŸ™ GitHub Enterprise (Optional)

GitHub Enterprise is **only needed** if you want to use Infrastructure as Code (IaC) with CI/CD pipelines:

| Deployment Method | GitHub Required? | Cost |
|-------------------|------------------|------|
| **PowerShell Direct** | âŒ No | â‚¬0 |
| **Bicep (Manual)** | âŒ No | â‚¬0 |
| **GitHub Actions (IaC)** | âœ… Yes | See below |

**GitHub Pricing for Nonprofits:**

| Plan | Regular Price | Nonprofit Price | Features |
|------|---------------|-----------------|----------|
| **GitHub Free** | â‚¬0 | â‚¬0 | Public repos, limited Actions |
| **GitHub Team** | â‚¬3.67/user/month | **â‚¬0** (often free for nonprofits) | Private repos, 3,000 Actions min/month |
| **GitHub Enterprise** | â‚¬19.25/user/month | ~â‚¬3.67/user/month | Advanced security, SAML SSO |

**Recommendation:** Start with **GitHub Free** or apply for **GitHub for Nonprofits** at [socialimpact.github.com](https://socialimpact.github.com/tech-for-social-good/nonprofits/)

---

## Implementation Timeline

### â±ï¸ Time Estimates

| Phase | Tasks | Duration | Who |
|-------|-------|----------|-----|
| **Pre-requisites** | | **1-5 days** | |
| | Apply for Azure Nonprofits (if applicable) | 1-5 days | Admin |
| | OR Create Pay-as-you-go subscription | 15 min | Admin |
| | Verify Global Admin access | 5 min | Admin |
| **Setup** | | **2-4 hours** | |
| | Create/verify student security group | 15-30 min | Admin |
| | Create App Registration in Entra ID | 15-20 min | Admin |
| | Grant admin consent for permissions | 5 min | Admin |
| | Deploy Azure Automation resources | 30-45 min | Admin/Atea |
| | Configure schedules and variables | 15-20 min | Admin/Atea |
| | Import and publish runbooks | 15-20 min | Admin/Atea |
| **Testing** | | **3-5 days** | |
| | Create test group with 2-3 accounts | 10 min | Admin |
| | Run manual tests (enable/disable) | 30 min | Admin |
| | Monitor for 3-5 days | Passive | Admin |
| | Review job logs and results | 30 min | Admin |
| **Production** | | **1 hour** | |
| | Update StudentGroupId to production group | 10 min | Admin |
| | Communicate to students/staff | 30 min | Admin |
| | Go-live monitoring | 30 min | Admin |
| | | | |
| **TOTAL** | | **2-4 hours active work** | |
| | | **(+ 1-5 days waiting for nonprofit approval if applicable)** | |

### ðŸ“… Typical Project Timeline

```
Week 1:
â”œâ”€â”€ Day 1-2: Apply for Azure Nonprofits / Setup subscription
â”œâ”€â”€ Day 3: Create App Registration + Deploy automation
â”œâ”€â”€ Day 4-5: Testing with test group

Week 2:
â”œâ”€â”€ Day 1-3: Continue monitoring test group
â”œâ”€â”€ Day 4: Switch to production group
â”œâ”€â”€ Day 5: Go-live + monitoring

Total: ~1.5 weeks (can be faster with Pay-as-you-go)
```

### ðŸš€ Fast-Track Option (Same Day)

If you use Pay-as-you-go Azure subscription:

| Time | Activity |
|------|----------|
| **0:00 - 0:15** | Create Azure subscription |
| **0:15 - 0:45** | Create App Registration |
| **0:45 - 1:30** | Deploy Azure Automation |
| **1:30 - 2:00** | Configure and test |
| **2:00+** | Monitor test group |

**Same-day deployment possible!**

---

## Solution Overview

### Weekly Schedule

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        WEEKLY ACCESS SCHEDULE                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MONDAY  â”‚ TUESDAY  â”‚WEDNESDAY â”‚ THURSDAY â”‚  FRIDAY  â”‚ SATURDAY â”‚   SUNDAY     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚          â”‚          â”‚          â”‚          â”‚          â”‚              â”‚
â”‚  07:55   â”‚  07:55   â”‚  07:55   â”‚  07:55   â”‚  07:55   â”‚          â”‚              â”‚
â”‚   ðŸŸ¢     â”‚   ðŸŸ¢     â”‚   ðŸŸ¢     â”‚   ðŸŸ¢     â”‚   ðŸŸ¢     â”‚   ðŸ”´     â”‚     ðŸ”´       â”‚
â”‚ ENABLED  â”‚ ENABLED  â”‚ ENABLED  â”‚ ENABLED  â”‚ ENABLED  â”‚ DISABLED â”‚  DISABLED    â”‚
â”‚          â”‚          â”‚          â”‚          â”‚          â”‚          â”‚              â”‚
â”‚  16:05   â”‚  16:05   â”‚  16:05   â”‚  16:05   â”‚  16:05   â”‚  ALL     â”‚    ALL       â”‚
â”‚   ðŸ”´     â”‚   ðŸ”´     â”‚   ðŸ”´     â”‚   ðŸ”´     â”‚   ðŸ”´     â”‚  DAY     â”‚    DAY       â”‚
â”‚ DISABLED â”‚ DISABLED â”‚ DISABLED â”‚ DISABLED â”‚ DISABLED â”‚          â”‚              â”‚
â”‚          â”‚          â”‚          â”‚          â”‚          â”‚          â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘ Runbooks run Mon-Fri only. Students stay disabled Sat & Sun â†‘
```

### Flow Diagram

```mermaid
graph TB
    subgraph "School Hours: Mon-Fri 07:55 - 16:05"
        A[ðŸŸ¢ Students CAN access M365]
    end
    
    subgraph "Outside Hours: Mon-Fri 16:05 - 07:55"
        B[ðŸ”´ Students CANNOT access M365]
    end
    
    subgraph "Weekends: All Day Sat & Sun"
        W[ðŸ”´ Students DISABLED all weekend]
    end
    
    A -->|Fri 16:05| C{Disable Runbook}
    C --> W
    W -->|Mon 07:55| D{Enable Runbook}
    D --> A
    A -->|16:05 PM| C
    B -->|07:55 AM| D
```

### Who Is Affected?

| User Type | Affected? | Reason |
|-----------|-----------|--------|
| **Students** | âœ… YES | Members of StudentGroupId security group |
| **Teachers** | âŒ NO | Not in the student group |
| **Administrators** | âŒ NO | Not in the student group |
| **Staff** | âŒ NO | Not in the student group |

---

## Architecture Diagrams

### 1. High-Level Solution Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AZURE CLOUD                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        AZURE AUTOMATION                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚                     â”‚              â”‚                     â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  Enable-Student     â”‚              â”‚  Disable-Student    â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  Access.ps1         â”‚              â”‚  Access.ps1         â”‚          â”‚   â”‚
â”‚  â”‚  â”‚                     â”‚              â”‚                     â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ Schedule:     â”‚  â”‚              â”‚  â”‚ Schedule:     â”‚  â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ 07:55 AM      â”‚  â”‚              â”‚  â”‚ 04:05 PM      â”‚  â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ Mon-Fri       â”‚  â”‚              â”‚  â”‚ Mon-Fri       â”‚  â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â”‚   â”‚
â”‚  â”‚  â”‚                     â”‚              â”‚                     â”‚          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â”‚             â”‚                                    â”‚                      â”‚   â”‚
â”‚  â”‚             â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚                      â”‚   â”‚
â”‚  â”‚             â”‚         â”‚  Encrypted   â”‚          â”‚                      â”‚   â”‚
â”‚  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Variables   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚   â”‚
â”‚  â”‚                       â”‚  - TenantId  â”‚                                  â”‚   â”‚
â”‚  â”‚                       â”‚  - ClientId  â”‚                                  â”‚   â”‚
â”‚  â”‚                       â”‚  - Secret    â”‚                                  â”‚   â”‚
â”‚  â”‚                       â”‚  - GroupId   â”‚                                  â”‚   â”‚
â”‚  â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                            â”‚
â”‚                                    â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      MICROSOFT GRAPH API                                 â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚  Endpoints Used:                                                â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                                 â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â€¢ GET  /groups/{id}/members                                   â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â€¢ GET  /users/{id}                                            â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â€¢ PATCH /users/{id}  { "accountEnabled": true/false }         â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â€¢ POST /users/{id}/revokeSignInSessions                       â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                                 â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                            â”‚
â”‚                                    â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         ENTRA ID (Azure AD)                              â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚  Student Security Group: "Students-M365"                        â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                                 â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚ ðŸ‘¤  â”‚ â”‚ ðŸ‘¤  â”‚ â”‚ ðŸ‘¤  â”‚ â”‚ ðŸ‘¤  â”‚ â”‚ ðŸ‘¤  â”‚ â”‚ ... â”‚  500+ users  â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜              â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                                 â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  accountEnabled: true â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º accountEnabled: false       â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                                 â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Sequence Diagram - Enable Flow (Morning)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Schedule â”‚     â”‚ Azure Automationâ”‚     â”‚ Graph API   â”‚     â”‚ Entra ID â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚  07:55 AM Trigger  â”‚                     â”‚                  â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  Connect-MgGraph    â”‚                  â”‚
     â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  Auth Token         â”‚                  â”‚
     â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  Get-MgGroupMember  â”‚                  â”‚
     â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                    â”‚                     â”‚  Query Group     â”‚
     â”‚                    â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚                     â”‚  Member List     â”‚
     â”‚                    â”‚                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                    â”‚  Members            â”‚                  â”‚
     â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
     â”‚                    â”‚  â”‚ For Each Student:               â”‚  â”‚
     â”‚                    â”‚  â”‚                                 â”‚  â”‚
     â”‚                    â”‚  â”‚  Update-MgUser                  â”‚  â”‚
     â”‚                    â”‚  â”‚  accountEnabled = true          â”‚  â”‚
     â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
     â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                    â”‚                     â”‚  PATCH User      â”‚
     â”‚                    â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚                     â”‚  âœ“ Enabled       â”‚
     â”‚                    â”‚                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  Disconnect-MgGraph â”‚                  â”‚
     â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚  Job Complete      â”‚                     â”‚                  â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                     â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
```

### 3. Sequence Diagram - Disable Flow (Afternoon)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Schedule â”‚     â”‚ Azure Automationâ”‚     â”‚ Graph API   â”‚     â”‚ Entra ID â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚  04:05 PM Trigger  â”‚                     â”‚                  â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  Connect-MgGraph    â”‚                  â”‚
     â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  Auth Token         â”‚                  â”‚
     â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  Get-MgGroupMember  â”‚                  â”‚
     â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  Members            â”‚                  â”‚
     â”‚                    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
     â”‚                    â”‚  â”‚ For Each Student:               â”‚  â”‚
     â”‚                    â”‚  â”‚                                 â”‚  â”‚
     â”‚                    â”‚  â”‚  1. Update-MgUser               â”‚  â”‚
     â”‚                    â”‚  â”‚     accountEnabled = false      â”‚  â”‚
     â”‚                    â”‚  â”‚                                 â”‚  â”‚
     â”‚                    â”‚  â”‚  2. Invoke-MgInvalidate         â”‚  â”‚
     â”‚                    â”‚  â”‚     UserRefreshToken            â”‚  â”‚
     â”‚                    â”‚  â”‚     (Force sign-out)            â”‚  â”‚
     â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
     â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                    â”‚                     â”‚  PATCH User      â”‚
     â”‚                    â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚                     â”‚  âœ“ Disabled      â”‚
     â”‚                    â”‚                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                    â”‚                     â”‚  Revoke Sessions â”‚
     â”‚                    â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚                    â”‚                     â”‚  âœ“ Sessions      â”‚
     â”‚                    â”‚                     â”‚    Revoked       â”‚
     â”‚                    â”‚                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                    â”‚                     â”‚                  â”‚
     â”‚  Job Complete      â”‚                     â”‚                  â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                     â”‚                  â”‚
     â”‚                    â”‚                     â”‚                  â”‚
```

### 4. Component Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            AZURE SUBSCRIPTION                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Resource Group: rg-student-access-automation            â”‚ â”‚
â”‚  â”‚                                                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚              Automation Account: StudentAccessAutomation             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚    RUNBOOKS      â”‚  â”‚    SCHEDULES     â”‚  â”‚    VARIABLES     â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Enable-       â”‚  â”‚  â€¢ Enable-       â”‚  â”‚  â€¢ TenantId      â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚    Student       â”‚  â”‚    Students-     â”‚  â”‚  â€¢ ClientId      â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚    Access.ps1    â”‚  â”‚    Morning       â”‚  â”‚  â€¢ ClientSecret  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                  â”‚  â”‚    07:55 Mon-Fri â”‚  â”‚    (encrypted)   â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Disable-      â”‚  â”‚                  â”‚  â”‚  â€¢ StudentGroupIdâ”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚    Student       â”‚  â”‚  â€¢ Disable-      â”‚  â”‚  â€¢ RevokeTokens  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚    Access.ps1    â”‚  â”‚    Students-     â”‚  â”‚                  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                  â”‚  â”‚    Afternoon     â”‚  â”‚                  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Get-Student   â”‚  â”‚    16:05 Mon-Fri â”‚  â”‚                  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚    Access        â”‚  â”‚                  â”‚  â”‚                  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚    Status.ps1    â”‚  â”‚                  â”‚  â”‚                  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                      MODULES                                  â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                                               â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Microsoft.Graph.Authentication                            â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Microsoft.Graph.Users                                     â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Microsoft.Graph.Groups                                    â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                                               â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SECURITY ARCHITECTURE                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        ENTRA ID                                          â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚              App Registration                                   â”‚   â”‚   â”‚
â”‚  â”‚   â”‚              "Student-Access-Automation"                        â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                                 â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  API Permissions (Application - Admin Consented)        â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                         â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â”‚ Microsoft Graph                                 â”‚   â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â”‚                                                 â”‚   â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â”‚  â€¢ User.ReadWrite.All    â”€â”€â”€ Enable/Disable    â”‚   â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â”‚  â€¢ Group.Read.All        â”€â”€â”€ Read Membership   â”‚   â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â”‚  â€¢ Directory.Read.All    â”€â”€â”€ Read User Data    â”‚   â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â”‚                                                 â”‚   â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                         â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                                 â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  Credentials                                            â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                         â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â€¢ Client ID (public)                                   â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚  â€¢ Client Secret (rotate annually) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â”‚                                                       â”‚ â”‚ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”˜ â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                           â”‚   â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                               â”‚       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚           â”‚
â”‚                                                                   â–¼           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     AZURE AUTOMATION                                     â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚   â”‚  Encrypted Variables (AES-256)                                  â”‚   â”‚ â”‚
â”‚  â”‚   â”‚                                                                 â”‚   â”‚ â”‚
â”‚  â”‚   â”‚  ðŸ”’ ClientSecret  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚   â”‚  ðŸ“‹ TenantId                                                        â”‚ â”‚
â”‚  â”‚   â”‚  ðŸ“‹ ClientId                                                        â”‚ â”‚
â”‚  â”‚   â”‚  ðŸ“‹ StudentGroupId                                                  â”‚ â”‚
â”‚  â”‚   â”‚                                                                 â”‚   â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6. Timeline Diagram

```
        DAILY SCHEDULE (Monday - Friday)
        
  00:00                    07:55        08:00                   16:00  16:05                    23:59
    â”‚                        â”‚            â”‚                       â”‚      â”‚                        â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
    â”‚                        â”‚            â”‚                       â”‚      â”‚                        â”‚
    â”‚   ACCOUNTS DISABLED    â”‚            â”‚   ACCOUNTS ENABLED    â”‚      â”‚   ACCOUNTS DISABLED    â”‚
    â”‚   ðŸ”´ No Access         â”‚            â”‚   ðŸŸ¢ Full Access      â”‚      â”‚   ðŸ”´ No Access         â”‚
    â”‚                        â”‚            â”‚                       â”‚      â”‚                        â”‚
    â”‚                        â–¼            â”‚                       â”‚      â–¼                        â”‚
    â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚                       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
    â”‚                   â”‚ ENABLE  â”‚       â”‚                       â”‚ â”‚ DISABLE â”‚                   â”‚
    â”‚                   â”‚ RUNBOOK â”‚       â”‚                       â”‚ â”‚ RUNBOOK â”‚                   â”‚
    â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚                       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
    â”‚                        â”‚            â”‚                       â”‚      â”‚                        â”‚
    â”‚                        â”‚            â–¼                       â–¼      â”‚                        â”‚
    â”‚                        â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                        â”‚
    â”‚                        â”‚       â”‚                         â”‚        â”‚                        â”‚
    â”‚                        â””â”€â”€â”€â”€â”€â”€â–ºâ”‚    SCHOOL HOURS         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
    â”‚                                â”‚    08:00 - 16:00        â”‚                                 â”‚
    â”‚                                â”‚                         â”‚                                 â”‚
    â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
    â”‚                                                                                            â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 5 min buffer before school â”€â”€â”€â”€â”€â”€â–ºâ”‚                             â”‚
    â”‚                                                              â”‚â—„â”€â”€ 5 min buffer after â”€â”€â”€â”€â–ºâ”‚
    â”‚                                                                                            â”‚
```

---

## Component Details

### Runbooks

| Runbook | Purpose | Schedule | Actions |
|---------|---------|----------|---------|
| `Enable-StudentAccess.ps1` | Enable accounts | 07:55 AM, Mon-Fri | Sets `accountEnabled = true` |
| `Disable-StudentAccess.ps1` | Disable accounts | 04:05 PM, Mon-Fri | Sets `accountEnabled = false`, revokes sessions |
| `Get-StudentAccessStatus.ps1` | Status report | On-demand | Lists all students with current status |

### Required PowerShell Modules

| Module | Version | Purpose |
|--------|---------|---------|
| `Microsoft.Graph.Authentication` | Latest | OAuth2 authentication |
| `Microsoft.Graph.Users` | Latest | User management |
| `Microsoft.Graph.Groups` | Latest | Group membership queries |

### API Permissions

| Permission | Type | Purpose | Risk Level |
|------------|------|---------|------------|
| `User.ReadWrite.All` | Application | Enable/disable accounts | High |
| `Group.Read.All` | Application | Read group membership | Medium |
| `Directory.Read.All` | Application | Read user properties | Medium |

---

## Data Flow

### Morning Enable Flow

```
1. Azure Scheduler triggers at 07:55 AM
         â”‚
         â–¼
2. Enable-StudentAccess.ps1 starts
         â”‚
         â–¼
3. Retrieve encrypted credentials from variables
         â”‚
         â–¼
4. Connect to Microsoft Graph API
         â”‚
         â–¼
5. Query student group members
         â”‚
         â–¼
6. For each student:
   â”œâ”€â”€ Check current status
   â”œâ”€â”€ If disabled â†’ Enable account
   â””â”€â”€ Log action
         â”‚
         â–¼
7. Disconnect and report results
```

### Afternoon Disable Flow

```
1. Azure Scheduler triggers at 04:05 PM
         â”‚
         â–¼
2. Disable-StudentAccess.ps1 starts
         â”‚
         â–¼
3. Retrieve encrypted credentials from variables
         â”‚
         â–¼
4. Connect to Microsoft Graph API
         â”‚
         â–¼
5. Query student group members
         â”‚
         â–¼
6. For each student:
   â”œâ”€â”€ Check current status
   â”œâ”€â”€ If enabled â†’ Disable account
   â”œâ”€â”€ Revoke all refresh tokens
   â””â”€â”€ Log action
         â”‚
         â–¼
7. Disconnect and report results
```

---

## Deployment Architecture

### Option A: Direct PowerShell Deployment

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Admin PC       â”‚     â”‚   Azure Portal   â”‚     â”‚   Entra ID       â”‚
â”‚                  â”‚     â”‚                  â”‚     â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ PowerShell â”‚â”€â”€â”¼â”€â”€â”€â”€â–ºâ”‚  â”‚ Automation â”‚  â”‚     â”‚  â”‚    App     â”‚  â”‚
â”‚  â”‚ Scripts    â”‚  â”‚     â”‚  â”‚  Account   â”‚  â”‚     â”‚  â”‚Registrationâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚     â”‚                  â”‚     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Option B: Infrastructure as Code (Bicep)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Source Code    â”‚     â”‚   Azure CLI      â”‚     â”‚   Azure          â”‚
â”‚                  â”‚     â”‚                  â”‚     â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ main.bicep â”‚â”€â”€â”¼â”€â”€â”€â”€â–ºâ”‚  â”‚    az      â”‚â”€â”€â”¼â”€â”€â”€â”€â–ºâ”‚  â”‚ Resources  â”‚  â”‚
â”‚  â”‚            â”‚  â”‚     â”‚  â”‚ deployment â”‚  â”‚     â”‚  â”‚  Created   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚     â”‚                  â”‚     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Option C: GitHub Actions (CI/CD)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GitHub Repo    â”‚     â”‚  GitHub Actions  â”‚     â”‚   Azure          â”‚
â”‚                  â”‚     â”‚                  â”‚     â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Push     â”‚â”€â”€â”¼â”€â”€â”€â”€â–ºâ”‚  â”‚  Workflow  â”‚â”€â”€â”¼â”€â”€â”€â”€â–ºâ”‚  â”‚ Resources  â”‚  â”‚
â”‚  â”‚ to main    â”‚  â”‚     â”‚  â”‚   (OIDC)   â”‚  â”‚     â”‚  â”‚  Deployed  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â”‚     â”‚                  â”‚     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Alternative Solutions

### Comparison Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SOLUTION COMPARISON MATRIX                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Solution               â”‚ Cloud   â”‚ UX      â”‚ Cost     â”‚ Complex-  â”‚ Recommended â”‚
â”‚                        â”‚ Only    â”‚ Quality â”‚ /Month   â”‚ ity       â”‚             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜… Azure Automation     â”‚   âœ…    â”‚   âš ï¸    â”‚  â‚¬3-6    â”‚  Medium   â”‚     â­      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Hybrid AD + PTA        â”‚   âŒ    â”‚   âœ…    â”‚  â‚¬â‚¬â‚¬     â”‚  High     â”‚     âŒ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Intune Device Control  â”‚   âœ…    â”‚   âœ…    â”‚  Free*   â”‚  Medium   â”‚   Partial   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Conditional Access     â”‚   âœ…    â”‚   âœ…    â”‚  Free    â”‚  Low      â”‚   N/A**     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Third-party            â”‚   âœ…    â”‚   âœ…    â”‚ â‚¬3-8/userâ”‚  Low      â”‚  If budget  â”‚
â”‚ (GoGuardian, etc.)     â”‚         â”‚         â”‚  /year   â”‚           â”‚  allows     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* Requires Intune license
** Does not support time-based restrictions
```

---

## Document Information

| Field | Value |
|-------|-------|
| **Version** | 1.0 |
| **Author** | Atea AS |
| **Date** | January 2026 |
| **License** | MIT |
| **Repository** | https://github.com/NorwegianPear/StudentTime-Management-M365 |

---

*For implementation details, see the [README.md](../README.md) file.*
